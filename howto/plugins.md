---
---

# How to write plugins

In roviz, all items you see in the application are in fact plugins. If you want to write your own plugin, you can execute the `new_project.sh` script. You only need to provide it with a class name for your new item and it should automatically create a plugin based on a template for you. We'll shortly go through the most important concepts that you need to know for writing a plugin:

 - [Inputs](https://shadowigor.github.io/roviz-docs/api/classInput)/[Outputs](https://shadowigor.github.io/roviz-docs/api/classOutput): Every plugin has inputs and outputs. An item will receive data from its inputs, process it and push it out to its outputs. Use `this->addInput` and `this->addOutput` to add new inputs and outputs. See [RovizItem::addInput](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#afcd27ad4355d3587146b151c4cb33316), [RovizItem::addOutput](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#ad03f1d6df2224dbc60de41a349e93120), [Input](https://shadowigor.github.io/roviz-docs/api/classInput) and [Output](https://shadowigor.github.io/roviz-docs/api/classOutput) for more information.
 - [Config](https://shadowigor.github.io/roviz-docs/api/classConfig.html){:target="_blank"}: Every plugin can have several configs. Use `this->addConfig` to add a new config. See the documentation of [RovizItem::addConfig](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#ab0fe5ae3fd158766638e240a32b6cf24){:target="_blank"} and [Config](https://shadowigor.github.io/roviz-docs/api/classConfig.html){:target="_blank"} for more information.
 - [Trim](https://shadowigor.github.io/roviz-docs/api/classTrim.html){:target="_blank"}: You can also have trim values that will be modifyable on-the-fly with sliders. Use `this->addTrim` to add a [Trim](https://shadowigor.github.io/roviz-docs/api/classTrim.html){:target="_blank"}. See [RovizItem::addTrim](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a48d5019e8f6d844bb1ef044220a11579){:target="_blank"} and [Trim](https://shadowigor.github.io/roviz-docs/api/classTrim.html){:target="_blank"} for more information.
 - [thread](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966){:target="_blank"}: Every plugin must implement the [thread](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966){:target="_blank"} function. This function will be started in a new thread once the item is started. This is where most of your code should be. Make sure you properly use [RovizItem::wait](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a304c79d6131a1a69bcda815da90116f4){:target="_blank"}, [RovizItem::waitFor](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a5bfb83bc1a42c9b9b10047303558eff1){:target="_blank"}, [RovizItem::waitForCond](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#ac99aa127f4342884c1b258988f8b4f56){:target="_blank"}, [Input::waitForInput](https://shadowigor.github.io/roviz-docs/api/classInput.html#a6699337de72c8e63b5a104c795b3c0cb){:target="_blank"}, or [RovizItem::running](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a4e183b49c423e0c0710ee9d0ad1a914d){:target="_blank"}! They make sure that the start/pause/stop mechanism works properly. See their documentation to find out which one to use in which situation.
 - [starting](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a370512cfe690c6312731a229863d1eaf){:target="_blank"}: If you do any initialization apart from [Inputs](https://shadowigor.github.io/roviz-docs/api/classInput)/[Outputs](https://shadowigor.github.io/roviz-docs/api/classOutput), [Configs](https://shadowigor.github.io/roviz-docs/api/classConfig.html){:target="_blank"} and [Trims](https://shadowigor.github.io/roviz-docs/api/classTrim.html){:target="_blank"}, you should do it in a function called [starting](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a370512cfe690c6312731a229863d1eaf){:target="_blank"} that will be called before [thread](https://shadowigor.github.io/roviz-docs/api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966){:target="_blank"} and not in the constructor to make sure the item has a clean state every time it gets re-run.
 - [Image](https://shadowigor.github.io/roviz-docs/api/classImage.html){:target="_blank"}: The most important class for image processing plugins. Use [Output::pushOut](https://shadowigor.github.io/roviz-docs/api/classOutput.html#a3c79386c4c00167843c0530fb402b6c1){:target="_blank"} to push out images and pass them to the next item. **DO NOT MODIFY THE IMAGE DATA AFTER YOU PUSHED IT OUT!** roviz does never copy image data for performance reasons, so you must not access the memory of the image once its pushed out, as the following items of the pipeline will use the same memory location. There are also other types available that can be pushed out. Currently, the following are available:
   - [Image](https://shadowigor.github.io/roviz-docs/api/classImage.html){:target="_blank"}
   - [Message](https://shadowigor.github.io/roviz-docs/api/classMessage.html){:target="_blank"}
   - [Sparse](https://shadowigor.github.io/roviz-docs/api/classSparse.html){:target="_blank"}

Once you've finished writing your plugin, just run `qmake` and `make` again in the root folder and your plugin should build.
